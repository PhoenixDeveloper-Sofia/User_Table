(function(){"use strict";var e={2224:function(e,t,a){var n=a(5130),r=(a(8992),a(4520),a(1454),a(6768)),l=a(144);const s=async e=>{try{const t=await fetch(e),a=await t.json();return a}catch(t){return console.error("Ошибка при получении данных:",t),[]}};var o=s;const u=e=>{try{const t=new Date(e),a=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getFullYear()).slice(-2);return`${a}.${n}.${r}`}catch{return e}};var i=a.p+"img/clean.ab8b7e95.svg",c={__name:"ClearButton",props:{clearFilter:Function},setup(e){return(t,a)=>((0,r.uX)(),(0,r.CE)("button",{class:"clearButton flex-mx",onClick:a[0]||(a[0]=t=>e.clearFilter())},a[1]||(a[1]=[(0,r.Lk)("img",{src:i,alt:"Очистить поиск",class:"clearButton__img"},null,-1),(0,r.Lk)("p",null,"Очистить фильтр",-1)])))}},p=a(1241);const d=(0,p.A)(c,[["__scopeId","data-v-6c349d72"]]);var v=d,_=a.p+"img/search.e297b658.svg";const f={class:"searchInput"};var g={__name:"SearchInput",props:{searchUser:Function,isClearShow:Boolean},setup(e){const t=e,a=(0,l.KR)([]);let s=null;return(0,r.wB)(a,(()=>{s&&clearTimeout(s),s=setTimeout((()=>{t.searchUser(a.value)}),300)})),(0,r.wB)((()=>t.isClearShow),(()=>{t.isClearShow||(a.value="")})),(e,t)=>((0,r.uX)(),(0,r.CE)("div",f,[t[1]||(t[1]=(0,r.Lk)("img",{src:_,alt:"Поиск"},null,-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),type:"text",placeholder:"Поиск по имени или e-mail",class:"searchInput__input"},null,512),[[n.Jo,a.value]])]))}};const b=(0,p.A)(g,[["__scopeId","data-v-3601cf7f"]]);var m=b;const h={class:"searchBar accentBlock-mx"};var k={__name:"SearchBar",props:{clearFilter:Function,searchUser:Function,isClearShow:Boolean},setup(e){return(t,a)=>((0,r.uX)(),(0,r.CE)("section",h,[(0,r.bF)(m,{isClearShow:e.isClearShow,searchUser:e.searchUser},null,8,["isClearShow","searchUser"]),(0,r.bo)((0,r.bF)(v,{clearFilter:e.clearFilter},null,8,["clearFilter"]),[[n.aG,e.isClearShow]])]))}};const C=(0,p.A)(k,[["__scopeId","data-v-5f023d9f"]]);var O=C,w=a(4232);const y=[{title:"Дата регистрации",option:"registration_date"},{title:"Рейтинг",option:"rating"}];var F=y;const L={class:"sortingUser flex-mx"},B={class:"sortingUser__options flex-mx"},I=["onClick"];var U={__name:"SortingUser",props:{sortUser:Object,toggleSortOption:Function},setup(e){return(t,a)=>((0,r.uX)(),(0,r.CE)("section",L,[a[0]||(a[0]=(0,r.Lk)("h2",null,"Сортировка:",-1)),(0,r.Lk)("ul",B,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,l.R1)(F),(t=>((0,r.uX)(),(0,r.CE)("li",{class:(0,w.C4)(e.sortUser.type==t.option?"sortingUser__item-active ":"sortingUser__item "),key:t.option,onClick:a=>e.toggleSortOption(t.option)},(0,w.v_)(t.title),11,I)))),128))])]))}};const x=(0,p.A)(U,[["__scopeId","data-v-48538e19"]]);var M=x;const S=["Имя пользователя","E-mail","Дата регистрации","Рейтинг"];var E=S;const X={class:"userTable accentBlock-mx"},T={class:"userTable__table"};var A={__name:"TableUI",props:{headerItem:Array},setup(e){return(t,a)=>((0,r.uX)(),(0,r.CE)("section",X,[(0,r.Lk)("table",T,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.headerItem,(e=>((0,r.uX)(),(0,r.CE)("th",{class:"userTable__header",key:e},(0,w.v_)(e),1)))),128))])]),(0,r.RG)(t.$slots,"default")]),(0,r.RG)(t.$slots,"footerBar")]))}};const R=(0,p.A)(A,[["__scopeId","data-v-6e8d2f54"]]);var K=R,D=a.p+"img/cancel.cc312918.svg";const j={class:"userTable__item"},$={class:"userTable__item"},P={class:"userTable__item"},G={class:"userTable__item"},N=["onClick"];var V={__name:"UserTableBody",props:{userList:Array,updateOpenModal:Function},setup(e){return(t,a)=>((0,r.uX)(),(0,r.CE)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.userList,(t=>((0,r.uX)(),(0,r.CE)("tr",{class:"userTable__row",key:t.id},[(0,r.Lk)("td",j,(0,w.v_)(t.username),1),(0,r.Lk)("td",$,(0,w.v_)(t.email),1),(0,r.Lk)("td",P,(0,w.v_)(t.registration_date_view),1),(0,r.Lk)("td",G,[(0,r.eW)((0,w.v_)(t.rating)+" ",1),(0,r.Lk)("button",{class:"userTable__deleteBut",onClick:a=>e.updateOpenModal({id:t.id})},a[0]||(a[0]=[(0,r.Lk)("img",{src:D,alt:"Удалить"},null,-1)]),8,N)])])))),128))]))}};const W=(0,p.A)(V,[["__scopeId","data-v-0c497305"]]);var J=W;a(4114);const Q=e=>{let t=[];for(let a=0;a<e;a++)t.push(a+1);return t};var Y=Q;const q={class:"paginationsBar flex-mx"},z=["onClick"];var H={__name:"PaginationsBarUI",props:{paginationsOptins:Array,page:Number,updatePage:Function},setup(e){return(t,a)=>((0,r.uX)(),(0,r.CE)("nav",null,[(0,r.Lk)("ul",q,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.paginationsOptins,(t=>((0,r.uX)(),(0,r.CE)("li",{class:(0,w.C4)(["paginationsBar__item",e.page+1==t&&"paginationsBar__item-active"]),key:t,onClick:a=>e.updatePage(t)},(0,w.v_)(t),11,z)))),128))])]))}};const Z=(0,p.A)(H,[["__scopeId","data-v-22b84635"]]);var ee=Z,te={__name:"ModalUI",props:{isOpenModal:Boolean,updateOpenModal:Function},setup(e){return(t,a)=>e.isOpenModal?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"backgroundModal flex-mx",onClick:a[1]||(a[1]=t=>e.updateOpenModal({isDelet:!1}))},[(0,r.Lk)("div",{class:"modal",onClick:a[0]||(a[0]=(0,n.D$)((()=>{}),["stop"]))},[(0,r.RG)(t.$slots,"default")])])):(0,r.Q3)("",!0)}};const ae=(0,p.A)(te,[["__scopeId","data-v-2333a0b3"]]);var ne=ae;const re={class:"buttonBlock flex-mx"};var le={__name:"ModalDeletUser",props:{isOpen:Boolean,updateOpenModal:Function},setup(e){return(t,a)=>((0,r.uX)(),(0,r.Wv)(ne,{isOpen:e.isOpen,updateOpenModal:e.updateOpenModal},{default:(0,r.k6)((()=>[a[2]||(a[2]=(0,r.Lk)("p",null,"Вы уверены, что хотите удалить пользователя?",-1)),(0,r.Lk)("div",re,[(0,r.Lk)("button",{class:"buttonBlock__agreement buttonNormal-mx",onClick:a[0]||(a[0]=t=>e.updateOpenModal({isDelet:!0}))},"Да"),(0,r.Lk)("button",{class:"buttonBlock__refusal buttonNormal-mx",onClick:a[1]||(a[1]=t=>e.updateOpenModal({isDelet:!1}))},"Нет")])])),_:1},8,["isOpen","updateOpenModal"]))}};const se=(0,p.A)(le,[["__scopeId","data-v-514de865"]]);var oe=se;const ue={class:"wrapper"};var ie={__name:"App",setup(e){let t,a=(0,l.KR)([]);const n=(0,l.KR)(0),s=(0,l.KR)();let i;const c=(0,l.KR)();let p=(0,l.KR)("");const d=(0,l.KR)({type:"",increase:!1}),v=(0,l.KR)(!1),_=(0,l.KR)(!1),f=({isDelet:e,id:n})=>{n?t=n:e&&t&&(a.value=a.value.filter((e=>e.id!==t))),_.value=!_.value,m()},g=e=>{d.value.type!==e?d.value={type:e,increase:!1}:d.value={...d.value,increase:!d.value.increase},m()},b=()=>a.value.sort(((e,t)=>{if("registration_date"===d.value.type){const a=new Date(e.registration_date),n=new Date(t.registration_date);return d.value.increase?a-n:n-a}return""===d.value.type?e.id-t.id:"rating"===d.value.type?d.value.increase?e.rating-t.rating:t.rating-e.rating:void 0})),m=e=>{void 0!=e&&(p.value=e);let t=h();w(t)},h=()=>{let e=b();return e.filter((e=>e.username?.toLowerCase().includes(p.value.trim().toLowerCase())||e.email?.toLowerCase().includes(p.value.trim().toLowerCase())))},k=()=>{v.value=!(!p.value&&!d.value.type)};(0,r.wB)([p,()=>d.value.type],(()=>{k()}));const C=()=>{p.value="",d.value={type:"",increase:!1},m()};(0,r.sV)((async()=>{let e=await o("https://5ebbb8e5f2cfeb001697d05c.mockapi.io/users");a.value=e.map((e=>({...e,registration_date_view:u(e.registration_date)}))),w(a.value)}));const w=e=>{i=Math.ceil(e.length/5),s.value=Y(i),c.value=e.slice(y.start,y.end)};let y={start:0,end:5};const F=e=>{n.value=e-1,L()},L=()=>{y.start=5*n.value,y.end=5*n.value+5;let e=h();c.value=e.slice(y.start,y.end)};return(e,t)=>((0,r.uX)(),(0,r.CE)("div",ue,[t[0]||(t[0]=(0,r.Lk)("h1",{class:"pageTiitle"},"Список пользователей",-1)),(0,r.bF)(O,{clearFilter:C,searchUser:m,isClearShow:v.value},null,8,["isClearShow"]),(0,r.bF)(M,{sortUser:d.value,toggleSortOption:g},null,8,["sortUser"]),(0,r.bF)(K,{headerItem:(0,l.R1)(E)},{footerBar:(0,r.k6)((()=>[(0,r.bF)(ee,{updatePage:F,paginationsOptins:s.value,page:n.value},null,8,["paginationsOptins","page"])])),default:(0,r.k6)((()=>[(0,r.bF)(J,{userList:c.value,updateOpenModal:f},null,8,["userList"])])),_:1},8,["headerItem"]),(0,r.bF)(oe,{isOpenModal:_.value,updateOpenModal:f},null,8,["isOpenModal"])]))}};const ce=(0,p.A)(ie,[["__scopeId","data-v-f4b63d8a"]]);var pe=ce;(0,n.Ef)(pe).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={exports:{}};return e[n].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,l){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],l=e[c][2];for(var o=!0,u=0;u<n.length;u++)(!1&l||s>=l)&&Object.keys(a.O).every((function(e){return a.O[e](n[u])}))?n.splice(u--,1):(o=!1,l<s&&(s=l));if(o){e.splice(c--,1);var i=r();void 0!==i&&(t=i)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[n,r,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/User_Table_Vue/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,l,s=n[0],o=n[1],u=n[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(u)var c=u(a)}for(t&&t(n);i<s.length;i++)l=s[i],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},n=self["webpackChunkuser_tables"]=self["webpackChunkuser_tables"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(2224)}));n=a.O(n)})();
//# sourceMappingURL=app.4badc3a8.js.map